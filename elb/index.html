
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ec2/">
      
      
        <link rel="next" href="../storage/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>AWS Load Balancers - AWS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#load-balancers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AWS Documentation" class="md-header__button md-logo" aria-label="AWS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AWS Load Balancers
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AWS Documentation" class="md-nav__button md-logo" aria-label="AWS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    AWS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../ec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Compute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    AWS Load Balancers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    AWS Load Balancers
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elastic-load-balancer-elb" class="md-nav__link">
    Elastic Load Balancer (ELB)
  </a>
  
    <nav class="md-nav" aria-label="Elastic Load Balancer (ELB)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-load-balancer" class="md-nav__link">
    Application Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-load-balancer" class="md-nav__link">
    Network Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#route-based-load-balancing-path-based-routing" class="md-nav__link">
    Route-Based Load Balancing (Path-Based Routing):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#host-based-load-balancing" class="md-nav__link">
    Host-Based Load Balancing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classic-load-balancer" class="md-nav__link">
    Classic Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-components" class="md-nav__link">
    ELB Components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssl-server-certificates" class="md-nav__link">
    SSL Server Certificates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-load-balancer_1" class="md-nav__link">
    Network Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ec2-auto-scaling" class="md-nav__link">
    EC2 Auto Scaling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-scaling-in-aws" class="md-nav__link">
    Auto Scaling in AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-of-ec2-auto-scaling" class="md-nav__link">
    Components of EC2 Auto Scaling
  </a>
  
    <nav class="md-nav" aria-label="Components of EC2 Auto Scaling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launch-configuration" class="md-nav__link">
    Launch Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-template" class="md-nav__link">
    Launch Template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-scaling-groups" class="md-nav__link">
    Auto Scaling Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Storage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../eks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS EKS
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elastic-load-balancer-elb" class="md-nav__link">
    Elastic Load Balancer (ELB)
  </a>
  
    <nav class="md-nav" aria-label="Elastic Load Balancer (ELB)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-load-balancer" class="md-nav__link">
    Application Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-load-balancer" class="md-nav__link">
    Network Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#route-based-load-balancing-path-based-routing" class="md-nav__link">
    Route-Based Load Balancing (Path-Based Routing):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#host-based-load-balancing" class="md-nav__link">
    Host-Based Load Balancing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classic-load-balancer" class="md-nav__link">
    Classic Load Balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#elb-components" class="md-nav__link">
    ELB Components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssl-server-certificates" class="md-nav__link">
    SSL Server Certificates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-load-balancer_1" class="md-nav__link">
    Network Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ec2-auto-scaling" class="md-nav__link">
    EC2 Auto Scaling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-scaling-in-aws" class="md-nav__link">
    Auto Scaling in AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-of-ec2-auto-scaling" class="md-nav__link">
    Components of EC2 Auto Scaling
  </a>
  
    <nav class="md-nav" aria-label="Components of EC2 Auto Scaling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launch-configuration" class="md-nav__link">
    Launch Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#launch-template" class="md-nav__link">
    Launch Template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-scaling-groups" class="md-nav__link">
    Auto Scaling Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="load-balancers">Load Balancers</h1>
<h2 id="elastic-load-balancer-elb">Elastic Load Balancer (ELB)</h2>
<p>The main function of an ELB is to help manage and control the flow of inbound requests destined to a group of targets by distributing these requests evenly accross the targeted resource group. These targets could be a group of EC2s, lambda functions, a range of IP addresses or even Containers. </p>
<h4 id="application-load-balancer">Application Load Balancer</h4>
<p>A load balancer serves as the single point of contact for clients. The load balancer distributes incoming application traffic across multiple targets, such as EC2 instances, in multiple Availability Zones. This increases the availability of your application. You add one or more listeners to your load balancer. </p>
<p>You can set port for HTTP or HTTPS requests in your ALB. It operates at the request level. You also have Advanced routing, TLS termination and visibility features targeted at application architectures.</p>
<h4 id="network-load-balancer">Network Load Balancer</h4>
<ul>
<li>Ultra-high performance while maintaining very low latencies </li>
<li>Operates at the connection level, routing traffic to targets within your VPC</li>
<li>Handles millions of requests per second</li>
</ul>
<h4 id="route-based-load-balancing-path-based-routing">Route-Based Load Balancing (Path-Based Routing):</h4>
<p>Route-based load balancing (also called path-based routing) distributes traffic to different target groups based on the request URL path. 
The load balancer inspects the URL path of the incoming HTTP(S) request. Based on the path, it routes the traffic to a specific target group or service.</p>
<p>Example:</p>
<ul>
<li>Requests to example.com/frontend are routed to the frontend servers.</li>
<li>Requests to example.com/api are routed to the API servers.</li>
</ul>
<p>In AWS, you can configure path-based routing with an Application Load Balancer (ALB). You would define rules in the load balancer's listener based on URL paths (e.g., /images/<em>, /api/</em>), which then forwards the request to different target groups.</p>
<h4 id="host-based-load-balancing">Host-Based Load Balancing</h4>
<p>Host-based load balancing (also called host header-based routing) distributes traffic based on the hostname in the HTTP request. This allows you to direct traffic to different services or applications based on the domain or subdomain.</p>
<p>The load balancer inspects the Host header of the incoming HTTP(S) request.</p>
<p>Example:</p>
<p>A company has multiple domains or subdomains -</p>
<ul>
<li>www.example.com for the main website.</li>
<li>api.example.com for their API.</li>
<li>Requests to www.example.com go to the web servers.</li>
<li>Requests to api.example.com go to the API servers.</li>
</ul>
<h4 id="classic-load-balancer">Classic Load Balancer</h4>
<ul>
<li>Used for applications that were build in the existing EC2 Classic Environment</li>
<li>Operates at both the connection and request level</li>
</ul>
<h4 id="elb-components">ELB Components</h4>
<p><strong>Listeners:</strong> The rules that you define for a listener determine how the load balancer routes requests to its registered targets. Each rule consists of a priority, one or more actions, and one or more conditions.</p>
<p><strong>Target Groups:</strong> Each target group routes requests to one or more registered targets, such as EC2 instances, using the protocol and port number that you specify. You can register a target with multiple target groups. You can configure health checks on a per target group basis. </p>
<p><strong>Rules:</strong> Rules are associated to each listener that you have configured withing your ELB. They help to define how an incoming request gets routed to which target group.</p>
<p><strong>Health Checks:</strong> A health check is performed against the resources defined within the target group. These health checks allow the ELB to contact each target using a specific protcol to receive a response.</p>
<p><strong>Internet-facing ELB:</strong> The nodes of the ELB are accessible via the internt and so have a public DNS name that can be resolved to its Public IP address, in addition to an internal IP address.</p>
<p><strong>Internal ELB:</strong> An internal ELB only has an internal IP address, this means that it can only serve requests that originate from within your VPC itself.</p>
<p><strong>ELB Nodes:</strong> For each AZ selected an ELB node will be placed within that AZ.</p>
<h2 id="ssl-server-certificates">SSL Server Certificates</h2>
<p>IF we set HTTPS as our listener, then it will allow us an encrypted communication channnel to be set up between clients initiating the request and your ALB. But to allow ALB to receive encrypted traffic over HTTPS it will need a server certificate and an associated security policy. </p>
<p>SSL (Secure Sockets Layer) is a cryptography protocol, much like TLS (Transport Layer Security). Both SSL and TSL are used interchangebly when discussing certificates on your ALB.</p>
<p>The server certificate used by ALB is an X.509 certificate, which is a digital ID provisioned by AWS Certificate Manager (ACM). </p>
<h2 id="network-load-balancer_1">Network Load Balancer</h2>
<p>The network load balancer operates at layer 4 of the OSI model enabling you to balance requests purely based upon the TCP protocol. The NLB can process requests in TCP, TLS, and UDP. It is able to process millions of requests per second which makes it ideal for high performance applications.</p>
<p>If your application logic requires a static IP address, then NLB will need to be your choice of ELB.</p>
<h2 id="ec2-auto-scaling">EC2 Auto Scaling</h2>
<p>Auto scaling is the mechanism that allows you to increase or decrease your EC2 resources to meet the demand based off of custom defined metrics and thresholds.</p>
<h2 id="auto-scaling-in-aws">Auto Scaling in AWS</h2>
<ul>
<li>Amazon EC2 Auto Scaling</li>
<li>AWS Auto Scaling - Can automatically scale - Amazon ECS, DynamoDB, Amazon Aurora</li>
</ul>
<h2 id="components-of-ec2-auto-scaling">Components of EC2 Auto Scaling</h2>
<ul>
<li>Create a Launch Configuration or Launch Template - These define how an Auto Scaling group builds new EC2 instances.</li>
<li>Create an Auto Scaling group</li>
</ul>
<h4 id="launch-configuration">Launch Configuration</h4>
<ul>
<li>Which AMI to use</li>
<li>What Instance type</li>
<li>If you would like to use Spot Instances</li>
<li>If and when Public IP Addresses should be used</li>
<li>If any user data is on first boot</li>
<li>What storage volume configuration should be used</li>
<li>What security groups should be applied</li>
</ul>
<h4 id="launch-template">Launch Template</h4>
<p>A launch template is essentially a newer and more advanced version of the launch configuration. Being a template you can build a standard configuration allowing you to simplify how you launch instances for your auto scaling groups. This is the <strong>preferred</strong> method.</p>
<h4 id="auto-scaling-groups">Auto Scaling Groups</h4>
<p>The auto scaling group defines:</p>
<ul>
<li>The required capacity and other limitations of the group using scaling policies</li>
<li>Where the group should scale resources, such as which AZ</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>